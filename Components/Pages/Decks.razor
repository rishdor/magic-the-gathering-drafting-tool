@page "/decks"
@rendermode InteractiveServer
@inherits DecksBase

<PageTitle>Decks</PageTitle>

<div class="container">
    <h1>Decks</h1>

    @if (DecksController!.IsLoading() && DecksController!.GetDecksList().Count == 0)
    {
        <p>Loading your decks.</p>
        <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only"></span>
        </div>
    } else if (DecksController!.GetDecksList().Count == 0)
    {
        <p>You don't have any decks yet.</p>
    }

    <ul>
    @foreach (var deck in DecksController!.GetDecksList())
    {
        <li @onclick="() => OpenPopup(deck)">@deck.DeckName</li>
    }
    </ul>

    <button class="btn btn-primary" @onclick='NavigateToSetup'>Create a new deck.</button>
</div>


@if (showPopup)
{
    <DeckPopupComponent SelectedDeck="selectedDeck" ClosePopup="ClosePopup" />
}
